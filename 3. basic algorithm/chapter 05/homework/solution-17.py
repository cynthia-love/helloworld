# -*- coding: utf-8 -*-
# Author: Cynthia

"""
    数组append时以2k动态扩展, pop时, 当k<n/4时, 以n/2动态缩小

    证明在初始为空的数组上, 连续n次append, 再n次pop的时间复杂度为O(n)
"""

"""
    首先, 连续n次append已经证明过了是O(n)
    其实只要证明n次pop也是O(n)就行了
    
    假设当前数组大小k
    
    则 k/4-1时数组开始缩小, 缩小量为k/2, 复制元素个数为k/4-1
    
    下一次缩小是k/2/4-1 = k/8-1时
    
    中间隔了k/4-1-(k/8-1) = k/8
    
    (k/4-1)/(k/8) = O(1), 即连续pop每次摊销时间复杂度是O(1), n次是O(n)
    
    那么连续n次append, 连续n次pop总时间复杂度为: O(n)+O(n) = O(n)
"""